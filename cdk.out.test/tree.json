{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.201.0"},"children":{"PrimaryNetworkStack":{"id":"PrimaryNetworkStack","path":"PrimaryNetworkStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.201.0"},"children":{"EcommerceVPC":{"id":"EcommerceVPC","path":"PrimaryNetworkStack/EcommerceVPC","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.201.0","metadata":[{"maxAzs":"*","natGateways":"*","subnetConfiguration":[{"name":"*","subnetType":"Public","cidrMask":"*"},{"name":"*","subnetType":"Private","cidrMask":"*"},{"name":"*","subnetType":"Isolated","cidrMask":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"PrimaryNetworkStack/EcommerceVPC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC"},{"key":"Project","value":"Ecommerce"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2a","cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet1"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet1"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCPublicSubnet1RouteTable8357AAEA"},"subnetId":{"Ref":"EcommerceVPCPublicSubnet1Subnet0AFBA6BF"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"EcommerceVPCIGW14978A73"},"routeTableId":{"Ref":"EcommerceVPCPublicSubnet1RouteTable8357AAEA"}}}},"EIP":{"id":"EIP","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet1"},{"key":"Project","value":"Ecommerce"}]}}},"NATGateway":{"id":"NATGateway","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["EcommerceVPCPublicSubnet1EIP216F43BF","AllocationId"]},"subnetId":{"Ref":"EcommerceVPCPublicSubnet1Subnet0AFBA6BF"},"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet1"},{"key":"Project","value":"Ecommerce"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2b","cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet2"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet2"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCPublicSubnet2RouteTable3C1443CB"},"subnetId":{"Ref":"EcommerceVPCPublicSubnet2Subnet648A4090"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"EcommerceVPCIGW14978A73"},"routeTableId":{"Ref":"EcommerceVPCPublicSubnet2RouteTable3C1443CB"}}}},"EIP":{"id":"EIP","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet2/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet2"},{"key":"Project","value":"Ecommerce"}]}}},"NATGateway":{"id":"NATGateway","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet2/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["EcommerceVPCPublicSubnet2EIP1BAA72AD","AllocationId"]},"subnetId":{"Ref":"EcommerceVPCPublicSubnet2Subnet648A4090"},"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet2"},{"key":"Project","value":"Ecommerce"}]}}}}},"PublicSubnet3":{"id":"PublicSubnet3","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet3","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet3/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2c","cidrBlock":"10.0.2.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet3"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet3/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet3/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet3"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet3/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCPublicSubnet3RouteTableBE9B587C"},"subnetId":{"Ref":"EcommerceVPCPublicSubnet3Subnet6083921E"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PrimaryNetworkStack/EcommerceVPC/PublicSubnet3/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"EcommerceVPCIGW14978A73"},"routeTableId":{"Ref":"EcommerceVPCPublicSubnet3RouteTableBE9B587C"}}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2a","cidrBlock":"10.0.3.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet1"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet1"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCPrivateSubnet1RouteTableE54EE6BB"},"subnetId":{"Ref":"EcommerceVPCPrivateSubnet1SubnetB008B123"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"EcommerceVPCPublicSubnet1NATGateway56B50EFC"},"routeTableId":{"Ref":"EcommerceVPCPrivateSubnet1RouteTableE54EE6BB"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2b","cidrBlock":"10.0.4.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet2"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet2"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCPrivateSubnet2RouteTableEB68C2EE"},"subnetId":{"Ref":"EcommerceVPCPrivateSubnet2Subnet9415FEB9"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"EcommerceVPCPublicSubnet2NATGateway5AB42647"},"routeTableId":{"Ref":"EcommerceVPCPrivateSubnet2RouteTableEB68C2EE"}}}}}},"PrivateSubnet3":{"id":"PrivateSubnet3","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet3","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet3/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2c","cidrBlock":"10.0.5.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet3"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet3/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet3/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet3"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet3/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCPrivateSubnet3RouteTable18773908"},"subnetId":{"Ref":"EcommerceVPCPrivateSubnet3SubnetAF1A59B0"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"PrimaryNetworkStack/EcommerceVPC/PrivateSubnet3/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"EcommerceVPCPublicSubnet1NATGateway56B50EFC"},"routeTableId":{"Ref":"EcommerceVPCPrivateSubnet3RouteTable18773908"}}}}}},"IsolatedSubnet1":{"id":"IsolatedSubnet1","path":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"}]},"children":{"Subnet":{"id":"Subnet","path":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2a","cidrBlock":"10.0.6.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet1"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet1"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCIsolatedSubnet1RouteTableD791B9FF"},"subnetId":{"Ref":"EcommerceVPCIsolatedSubnet1Subnet14C095AA"}}}}}},"IsolatedSubnet2":{"id":"IsolatedSubnet2","path":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"}]},"children":{"Subnet":{"id":"Subnet","path":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2b","cidrBlock":"10.0.7.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet2"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet2"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCIsolatedSubnet2RouteTable8AB6F496"},"subnetId":{"Ref":"EcommerceVPCIsolatedSubnet2Subnet90D5F6B8"}}}}}},"IsolatedSubnet3":{"id":"IsolatedSubnet3","path":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet3","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"}]},"children":{"Subnet":{"id":"Subnet","path":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet3/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"ap-southeast-2c","cidrBlock":"10.0.8.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet3"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet3/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet3/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet3"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"PrimaryNetworkStack/EcommerceVPC/IsolatedSubnet3/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCIsolatedSubnet3RouteTableEC8B1E2B"},"subnetId":{"Ref":"EcommerceVPCIsolatedSubnet3SubnetE746962B"}}}}}},"IGW":{"id":"IGW","path":"PrimaryNetworkStack/EcommerceVPC/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC"},{"key":"Project","value":"Ecommerce"}]}}},"VPCGW":{"id":"VPCGW","path":"PrimaryNetworkStack/EcommerceVPC/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"EcommerceVPCIGW14978A73"},"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"PrimaryNetworkStack/EcommerceVPC/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.201.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"PrimaryNetworkStack/EcommerceVPC/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}},"FlowLogs":{"id":"FlowLogs","path":"PrimaryNetworkStack/EcommerceVPC/FlowLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.FlowLog","version":"2.201.0","metadata":[{"resourceType":"*","destination":"*","trafficType":"ALL"}]},"children":{"IAMRole":{"id":"IAMRole","path":"PrimaryNetworkStack/EcommerceVPC/FlowLogs/IAMRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportIAMRole":{"id":"ImportIAMRole","path":"PrimaryNetworkStack/EcommerceVPC/FlowLogs/IAMRole/ImportIAMRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"PrimaryNetworkStack/EcommerceVPC/FlowLogs/IAMRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"vpc-flow-logs.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/FlowLogs"},{"key":"Project","value":"Ecommerce"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PrimaryNetworkStack/EcommerceVPC/FlowLogs/IAMRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"PrimaryNetworkStack/EcommerceVPC/FlowLogs/IAMRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:DescribeLogStreams","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["EcommerceVPCFlowLogsLogGroup0B1D4A40","Arn"]}},{"Action":"iam:PassRole","Effect":"Allow","Resource":{"Fn::GetAtt":["EcommerceVPCFlowLogsIAMRole90AA8289","Arn"]}}],"Version":"2012-10-17"},"policyName":"EcommerceVPCFlowLogsIAMRoleDefaultPolicyBB49023E","roles":[{"Ref":"EcommerceVPCFlowLogsIAMRole90AA8289"}]}}}}}}},"LogGroup":{"id":"LogGroup","path":"PrimaryNetworkStack/EcommerceVPC/FlowLogs/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"PrimaryNetworkStack/EcommerceVPC/FlowLogs/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/FlowLogs"},{"key":"Project","value":"Ecommerce"}]}}}}},"FlowLog":{"id":"FlowLog","path":"PrimaryNetworkStack/EcommerceVPC/FlowLogs/FlowLog","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnFlowLog","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::FlowLog","aws:cdk:cloudformation:props":{"deliverLogsPermissionArn":{"Fn::GetAtt":["EcommerceVPCFlowLogsIAMRole90AA8289","Arn"]},"logDestinationType":"cloud-watch-logs","logGroupName":{"Ref":"EcommerceVPCFlowLogsLogGroup0B1D4A40"},"resourceId":{"Ref":"EcommerceVPC0C8C3771"},"resourceType":"VPC","tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"PrimaryNetworkStack/EcommerceVPC/FlowLogs"},{"key":"Project","value":"Ecommerce"}],"trafficType":"ALL"}}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"PrimaryNetworkStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.201.0"},"children":{"Staging":{"id":"Staging","path":"PrimaryNetworkStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"Role":{"id":"Role","path":"PrimaryNetworkStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}},"Handler":{"id":"Handler","path":"PrimaryNetworkStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}},"PrivateZone":{"id":"PrivateZone","path":"PrimaryNetworkStack/PrivateZone","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.PrivateHostedZone","version":"2.201.0","metadata":[{"zoneName":"*","vpc":"*"},{"zoneName":"*","vpc":"*"},{}]},"children":{"Resource":{"id":"Resource","path":"PrimaryNetworkStack/PrivateZone/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnHostedZone","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::HostedZone","aws:cdk:cloudformation:props":{"name":"ecommerce.internal.","hostedZoneTags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"vpcs":[{"vpcId":{"Ref":"EcommerceVPC0C8C3771"},"vpcRegion":"ap-southeast-2"}]}}}}},"VPCId":{"id":"VPCId","path":"PrimaryNetworkStack/VPCId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"PrivateHostedZoneId":{"id":"PrivateHostedZoneId","path":"PrimaryNetworkStack/PrivateHostedZoneId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PrimaryNetworkStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PrimaryNetworkStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}},"Exports":{"id":"Exports","path":"PrimaryNetworkStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"EcommerceVPC0C8C3771\"}":{"id":"Output{\"Ref\":\"EcommerceVPC0C8C3771\"}","path":"PrimaryNetworkStack/Exports/Output{\"Ref\":\"EcommerceVPC0C8C3771\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"Output{\"Ref\":\"EcommerceVPCPrivateSubnet1SubnetB008B123\"}":{"id":"Output{\"Ref\":\"EcommerceVPCPrivateSubnet1SubnetB008B123\"}","path":"PrimaryNetworkStack/Exports/Output{\"Ref\":\"EcommerceVPCPrivateSubnet1SubnetB008B123\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"Output{\"Ref\":\"EcommerceVPCPrivateSubnet2Subnet9415FEB9\"}":{"id":"Output{\"Ref\":\"EcommerceVPCPrivateSubnet2Subnet9415FEB9\"}","path":"PrimaryNetworkStack/Exports/Output{\"Ref\":\"EcommerceVPCPrivateSubnet2Subnet9415FEB9\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"Output{\"Ref\":\"EcommerceVPCPrivateSubnet3SubnetAF1A59B0\"}":{"id":"Output{\"Ref\":\"EcommerceVPCPrivateSubnet3SubnetAF1A59B0\"}","path":"PrimaryNetworkStack/Exports/Output{\"Ref\":\"EcommerceVPCPrivateSubnet3SubnetAF1A59B0\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PrimaryNetworkStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.201.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PrimaryNetworkStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.201.0"}}}},"PrimaryCoreStack":{"id":"PrimaryCoreStack","path":"PrimaryCoreStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.201.0"},"children":{"OrdersTable":{"id":"OrdersTable","path":"PrimaryCoreStack/OrdersTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.201.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"billingMode":"PAY_PER_REQUEST","removalPolicy":"retain","replicationRegions":"*","stream":"NEW_AND_OLD_IMAGES","timeToLiveAttribute":"*"},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"S"}}]},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"S"}}]}]},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/OrdersTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"orderId","attributeType":"S"},{"attributeName":"timestamp","attributeType":"S"},{"attributeName":"customerId","attributeType":"S"},{"attributeName":"status","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"CustomerOrders","keySchema":[{"attributeName":"customerId","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"OrderStatus","keySchema":[{"attributeName":"status","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"orderId","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"streamSpecification":{"streamViewType":"NEW_AND_OLD_IMAGES"},"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"PrimaryCoreStack/OrdersTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"SourceTableAttachedManagedPolicy-PrimaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRole8CE168C7":{"id":"SourceTableAttachedManagedPolicy-PrimaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRole8CE168C7","path":"PrimaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-PrimaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRole8CE168C7","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-PrimaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRole8CE168C7/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.ManagedPolicy","version":"2.201.0","metadata":[{"description":"*","roles":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"ImportedResource":{"id":"ImportedResource","path":"PrimaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-PrimaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRole8CE168C7/Resource/ImportedResource","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"Resource":{"id":"Resource","path":"PrimaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-PrimaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRole8CE168C7/Resource/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnManagedPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::ManagedPolicy","aws:cdk:cloudformation:props":{"description":{"Fn::Join":["",["DynamoDB replication managed policy for table ",{"Ref":"OrdersTable315BB997"}]]},"path":"/","policyDocument":{"Statement":[{"Action":"dynamodb:*","Effect":"Allow","Resource":[{"Fn::GetAtt":["OrdersTable315BB997","Arn"]},{"Fn::Join":["",["arn:aws:dynamodb:us-west-2:820242933814:table/",{"Ref":"OrdersTable315BB997"}]]},{"Fn::Join":["",[{"Fn::GetAtt":["OrdersTable315BB997","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"roles":[{"Fn::GetAtt":["awscdkawsdynamodbReplicaProviderNestedStackawscdkawsdynamodbReplicaProviderNestedStackResource18E3F12D","Outputs.PrimaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRoleF7614BE6Ref"]}]}}}}}}},"SourceTableAttachedManagedPolicy-PrimaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRoleFFB04778":{"id":"SourceTableAttachedManagedPolicy-PrimaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRoleFFB04778","path":"PrimaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-PrimaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRoleFFB04778","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-PrimaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRoleFFB04778/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.ManagedPolicy","version":"2.201.0","metadata":[{"description":"*","roles":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"ImportedResource":{"id":"ImportedResource","path":"PrimaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-PrimaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRoleFFB04778/Resource/ImportedResource","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"Resource":{"id":"Resource","path":"PrimaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-PrimaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRoleFFB04778/Resource/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnManagedPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::ManagedPolicy","aws:cdk:cloudformation:props":{"description":{"Fn::Join":["",["DynamoDB replication managed policy for table ",{"Ref":"OrdersTable315BB997"}]]},"path":"/","policyDocument":{"Statement":[{"Action":"dynamodb:DescribeTable","Effect":"Allow","Resource":[{"Fn::GetAtt":["OrdersTable315BB997","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["OrdersTable315BB997","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"roles":[{"Fn::GetAtt":["awscdkawsdynamodbReplicaProviderNestedStackawscdkawsdynamodbReplicaProviderNestedStackResource18E3F12D","Outputs.PrimaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRole6C217A3ARef"]}]}}}}}}},"Replicaus-west-2":{"id":"Replicaus-west-2","path":"PrimaryCoreStack/OrdersTable/Replicaus-west-2","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.201.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"PrimaryCoreStack/OrdersTable/Replicaus-west-2/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}}}},"@aws-cdk--aws-dynamodb.ReplicaProvider":{"id":"@aws-cdk--aws-dynamodb.ReplicaProvider","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider","constructInfo":{"fqn":"aws-cdk-lib.NestedStack","version":"2.201.0"},"children":{"OnEventHandler":{"id":"OnEventHandler","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[{"timeout":"*","code":"*","handler":"*","runtime":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"iam:CreateServiceLinkedRole","Effect":"Allow","Resource":"arn:aws:iam::820242933814:role/aws-service-role/replication.dynamodb.amazonaws.com/AWSServiceRoleForDynamoDBReplication"},{"Action":"dynamodb:DescribeLimits","Effect":"Allow","Resource":"*"},{"Action":["dynamodb:DeleteTable","dynamodb:DeleteTableReplica"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":dynamodb:us-west-2:820242933814:table/",{"Ref":"referencetoPrimaryCoreStackOrdersTableE664F03CRef"}]]}}],"Version":"2012-10-17"},"policyName":"OnEventHandlerServiceRoleDefaultPolicyC57085D4","roles":[{"Ref":"OnEventHandlerServiceRole15A26729"}]}}}}}}},"Code":{"id":"Code","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-820242933814-ap-southeast-2","s3Key":"0e35b84bae734fb452354f201465f113077658a81501aabe2ec7bb134ab594f4.zip"},"handler":"index.onEventHandler","role":{"Fn::GetAtt":["OnEventHandlerServiceRole15A26729","Arn"]},"runtime":"nodejs22.x","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeout":300}}},"LogGroup":{"id":"LogGroup","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"OnEventHandler42BEBAE0"}]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"IsCompleteHandler":{"id":"IsCompleteHandler","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[{"timeout":"*","code":"*","handler":"*","runtime":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}},"Code":{"id":"Code","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-820242933814-ap-southeast-2","s3Key":"0e35b84bae734fb452354f201465f113077658a81501aabe2ec7bb134ab594f4.zip"},"handler":"index.isCompleteHandler","role":{"Fn::GetAtt":["IsCompleteHandlerServiceRole5810CC58","Arn"]},"runtime":"nodejs22.x","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeout":30}}},"LogGroup":{"id":"LogGroup","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"IsCompleteHandler7073F4DA"}]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"Provider":{"id":"Provider","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.Provider","version":"2.201.0"},"children":{"framework-onEvent":{"id":"framework-onEvent","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[{"code":"*","description":"*","runtime":"*","handler":"*","timeout":"*","logGroup":"*","vpc":"*","vpcSubnets":"*","securityGroups":"*","role":"*","functionName":"*","environmentEncryption":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]}]},{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Ref":"Providerwaiterstatemachine5D4A9DF0"}}],"Version":"2012-10-17"},"policyName":"ProviderframeworkonEventServiceRoleDefaultPolicy48CD2133","roles":[{"Ref":"ProviderframeworkonEventServiceRole9FF04296"}]}}}}}}},"Code":{"id":"Code","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-820242933814-ap-southeast-2","s3Key":"bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca.zip"},"description":"AWS CDK resource provider framework - onEvent (PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},"USER_IS_COMPLETE_FUNCTION_ARN":{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},"WAITER_STATE_MACHINE_ARN":{"Ref":"Providerwaiterstatemachine5D4A9DF0"}}},"handler":"framework.onEvent","role":{"Fn::GetAtt":["ProviderframeworkonEventServiceRole9FF04296","Arn"]},"runtime":"nodejs22.x","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeout":900}}},"LogGroup":{"id":"LogGroup","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ProviderframeworkonEvent83C1D0A7"}]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"framework-isComplete":{"id":"framework-isComplete","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[{"code":"*","description":"*","runtime":"*","handler":"*","timeout":"*","logGroup":"*","vpc":"*","vpcSubnets":"*","securityGroups":"*","role":"*","functionName":"*","environmentEncryption":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]}]}],"Version":"2012-10-17"},"policyName":"ProviderframeworkisCompleteServiceRoleDefaultPolicy2E7140AC","roles":[{"Ref":"ProviderframeworkisCompleteServiceRoleB1087139"}]}}}}}}},"Code":{"id":"Code","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-820242933814-ap-southeast-2","s3Key":"bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca.zip"},"description":"AWS CDK resource provider framework - isComplete (PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},"USER_IS_COMPLETE_FUNCTION_ARN":{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]}}},"handler":"framework.isComplete","role":{"Fn::GetAtt":["ProviderframeworkisCompleteServiceRoleB1087139","Arn"]},"runtime":"nodejs22.x","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeout":900}}},"LogGroup":{"id":"LogGroup","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ProviderframeworkisComplete26D7B0CB"}]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"framework-onTimeout":{"id":"framework-onTimeout","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[{"code":"*","description":"*","runtime":"*","handler":"*","timeout":"*","logGroup":"*","vpc":"*","vpcSubnets":"*","securityGroups":"*","role":"*","functionName":"*","environmentEncryption":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]}]}],"Version":"2012-10-17"},"policyName":"ProviderframeworkonTimeoutServiceRoleDefaultPolicy2688969F","roles":[{"Ref":"ProviderframeworkonTimeoutServiceRole28643D26"}]}}}}}}},"Code":{"id":"Code","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-820242933814-ap-southeast-2","s3Key":"bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca.zip"},"description":"AWS CDK resource provider framework - onTimeout (PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},"USER_IS_COMPLETE_FUNCTION_ARN":{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]}}},"handler":"framework.onTimeout","role":{"Fn::GetAtt":["ProviderframeworkonTimeoutServiceRole28643D26","Arn"]},"runtime":"nodejs22.x","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeout":900}}},"LogGroup":{"id":"LogGroup","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ProviderframeworkonTimeout0B47CA38"}]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"waiter-state-machine":{"id":"waiter-state-machine","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.WaiterStateMachine","version":"2.201.0"},"children":{"Role":{"id":"Role","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportRole":{"id":"ImportRole","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["ProviderframeworkisComplete26D7B0CB","Arn"]},{"Fn::GetAtt":["ProviderframeworkonTimeout0B47CA38","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ProviderframeworkisComplete26D7B0CB","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["ProviderframeworkonTimeout0B47CA38","Arn"]},":*"]]}]},{"Action":["logs:CreateLogDelivery","logs:CreateLogStream","logs:DeleteLogDelivery","logs:DescribeLogGroups","logs:DescribeResourcePolicies","logs:GetLogDelivery","logs:ListLogDeliveries","logs:PutLogEvents","logs:PutResourcePolicy","logs:UpdateLogDelivery"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"ProviderwaiterstatemachineRoleDefaultPolicyD3C3DA1A","roles":[{"Ref":"ProviderwaiterstatemachineRole0C7159F9"}]}}}}}}},"LogGroup":{"id":"LogGroup","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/vendedlogs/states/waiter-state-machine-",{"Ref":"ProviderframeworkisComplete26D7B0CB"},"-c8cbac8af426df94412628e8c816816c25b05e8e48"]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}},"Resource":{"id":"Resource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":{"Fn::Join":["",["{\"StartAt\":\"framework-isComplete-task\",\"States\":{\"framework-isComplete-task\":{\"End\":true,\"Retry\":[{\"ErrorEquals\":[\"States.ALL\"],\"IntervalSeconds\":10,\"MaxAttempts\":180,\"BackoffRate\":1}],\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"Next\":\"framework-onTimeout-task\"}],\"Type\":\"Task\",\"Resource\":\"",{"Fn::GetAtt":["ProviderframeworkisComplete26D7B0CB","Arn"]},"\"},\"framework-onTimeout-task\":{\"End\":true,\"Type\":\"Task\",\"Resource\":\"",{"Fn::GetAtt":["ProviderframeworkonTimeout0B47CA38","Arn"]},"\"}}}"]]},"loggingConfiguration":{"destinations":[{"cloudWatchLogsLogGroup":{"logGroupArn":{"Fn::GetAtt":["ProviderwaiterstatemachineLogGroupDD693A98","Arn"]}}}],"includeExecutionData":false,"level":"ERROR"},"roleArn":{"Fn::GetAtt":["ProviderwaiterstatemachineRole0C7159F9","Arn"]},"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}},"PrimaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRoleF7614BE6Ref":{"id":"PrimaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRoleF7614BE6Ref","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/PrimaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRoleF7614BE6Ref","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"PrimaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRole6C217A3ARef":{"id":"PrimaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRole6C217A3ARef","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/PrimaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRole6C217A3ARef","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"PrimaryCoreStackawscdkawsdynamodbReplicaProviderframeworkonEventCF7F2ADAArn":{"id":"PrimaryCoreStackawscdkawsdynamodbReplicaProviderframeworkonEventCF7F2ADAArn","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/PrimaryCoreStackawscdkawsdynamodbReplicaProviderframeworkonEventCF7F2ADAArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"reference-to-PrimaryCoreStackOrdersTableE664F03CRef":{"id":"reference-to-PrimaryCoreStackOrdersTableE664F03CRef","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/reference-to-PrimaryCoreStackOrdersTableE664F03CRef","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.201.0"}}}},"@aws-cdk--aws-dynamodb.ReplicaProvider.NestedStack":{"id":"@aws-cdk--aws-dynamodb.ReplicaProvider.NestedStack","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider.NestedStack","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"@aws-cdk--aws-dynamodb.ReplicaProvider.NestedStackResource":{"id":"@aws-cdk--aws-dynamodb.ReplicaProvider.NestedStackResource","path":"PrimaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider.NestedStack/@aws-cdk--aws-dynamodb.ReplicaProvider.NestedStackResource","constructInfo":{"fqn":"aws-cdk-lib.CfnStack","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFormation::Stack","aws:cdk:cloudformation:props":{"parameters":{"referencetoPrimaryCoreStackOrdersTableE664F03CRef":{"Ref":"OrdersTable315BB997"}},"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"templateUrl":{"Fn::Join":["",["https://s3.ap-southeast-2.",{"Ref":"AWS::URLSuffix"},"/cdk-hnb659fds-assets-820242933814-ap-southeast-2/d5f34eff445aeee6964c707c165a2c56d68ad18a8bc33c094fa413f420093c03.json"]]}}}}}},"EcommerceEventBus":{"id":"EcommerceEventBus","path":"PrimaryCoreStack/EcommerceEventBus","constructInfo":{"fqn":"aws-cdk-lib.aws_events.EventBus","version":"2.201.0","metadata":[{}]},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/EcommerceEventBus/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnEventBus","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::EventBus","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"name":"ecommerce-events"}}},"EventArchive":{"id":"EventArchive","path":"PrimaryCoreStack/EcommerceEventBus/EventArchive","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Archive","version":"2.201.0","metadata":[{"sourceEventBus":"*","description":"*","eventPattern":{"source":"*"},"retention":"*","archiveName":"*"}]},"children":{"Archive":{"id":"Archive","path":"PrimaryCoreStack/EcommerceEventBus/EventArchive/Archive","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnArchive","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Archive","aws:cdk:cloudformation:props":{"archiveName":"ecommerce-events-archive","description":"Archive of all ecommerce events","eventPattern":{"source":["ecommerce.orders"]},"retentionDays":365,"sourceArn":{"Fn::GetAtt":["EcommerceEventBus1997A5D8","Arn"]}}}}}}}},"OrderEventsRule":{"id":"OrderEventsRule","path":"PrimaryCoreStack/OrderEventsRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.201.0","metadata":[{"description":"*","eventPattern":{"source":"*"},"eventBus":"*"},{"addEventPattern":[{"source":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"PrimaryCoreStack/OrderEventsRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"description":"Handle order processing events","eventBusName":{"Ref":"EcommerceEventBus1997A5D8"},"eventPattern":{"source":["ecommerce.orders"]},"state":"ENABLED"}}}}},"OrdersTableName":{"id":"OrdersTableName","path":"PrimaryCoreStack/OrdersTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"EventBusArn":{"id":"EventBusArn","path":"PrimaryCoreStack/EventBusArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PrimaryCoreStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PrimaryCoreStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}},"Exports":{"id":"Exports","path":"PrimaryCoreStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"OrdersTable315BB997\"}":{"id":"Output{\"Ref\":\"OrdersTable315BB997\"}","path":"PrimaryCoreStack/Exports/Output{\"Ref\":\"OrdersTable315BB997\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"Output{\"Fn::GetAtt\":[\"EcommerceEventBus1997A5D8\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"EcommerceEventBus1997A5D8\",\"Arn\"]}","path":"PrimaryCoreStack/Exports/Output{\"Fn::GetAtt\":[\"EcommerceEventBus1997A5D8\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PrimaryCoreStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.201.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PrimaryCoreStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.201.0"}}}},"PrimaryApiStack":{"id":"PrimaryApiStack","path":"PrimaryApiStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.201.0"},"children":{"LambdaExecutionRole":{"id":"LambdaExecutionRole","path":"PrimaryApiStack/LambdaExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"},{"managedPolicyArn":"*"}]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportLambdaExecutionRole":{"id":"ImportLambdaExecutionRole","path":"PrimaryApiStack/LambdaExecutionRole/ImportLambdaExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"PrimaryApiStack/LambdaExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"PrimaryApiStack/LambdaExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"PrimaryApiStack/LambdaExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:dynamodb:*:*:table/",{"Fn::ImportValue":"PrimaryCoreStack:ExportsOutputRefOrdersTable315BB997F7C1D27E"},"*"]]}},{"Action":"events:PutEvents","Effect":"Allow","Resource":{"Fn::ImportValue":"PrimaryCoreStack:ExportsOutputFnGetAttEcommerceEventBus1997A5D8Arn6D7B4DCB"}}],"Version":"2012-10-17"},"policyName":"LambdaExecutionRoleDefaultPolicy6D69732F","roles":[{"Ref":"LambdaExecutionRoleD5C26073"}]}}}}}}},"CreateOrderFunction":{"id":"CreateOrderFunction","path":"PrimaryApiStack/CreateOrderFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[{"environment":"*","memorySize":"*","role":"*","timeout":"*","vpc":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]},"children":{"Code":{"id":"Code","path":"PrimaryApiStack/CreateOrderFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"PrimaryApiStack/CreateOrderFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"PrimaryApiStack/CreateOrderFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"PrimaryApiStack/CreateOrderFunction/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.201.0","metadata":[{"vpc":"*","description":"*","allowAllOutbound":"*","allowAllIpv6Outbound":"*"}]},"children":{"Resource":{"id":"Resource","path":"PrimaryApiStack/CreateOrderFunction/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function PrimaryApiStackCreateOrderFunction4BEC4D21","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Fn::ImportValue":"PrimaryNetworkStack:ExportsOutputRefEcommerceVPC0C8C3771FD31C558"}}}}}},"Resource":{"id":"Resource","path":"PrimaryApiStack/CreateOrderFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-820242933814-ap-southeast-2","s3Key":"7d3a9560c0d69aa78ee7b84b188e3d0bf90f113ee06b25db94f983fe005371cc.zip"},"environment":{"variables":{"ORDERS_TABLE":{"Fn::ImportValue":"PrimaryCoreStack:ExportsOutputRefOrdersTable315BB997F7C1D27E"},"EVENT_BUS_ARN":{"Fn::ImportValue":"PrimaryCoreStack:ExportsOutputFnGetAttEcommerceEventBus1997A5D8Arn6D7B4DCB"}}},"handler":"create_order.handler","memorySize":256,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"python3.9","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Fn::ImportValue":"PrimaryNetworkStack:ExportsOutputRefEcommerceVPCPrivateSubnet1SubnetB008B1231ADABD21"},{"Fn::ImportValue":"PrimaryNetworkStack:ExportsOutputRefEcommerceVPCPrivateSubnet2Subnet9415FEB9B07FD07F"},{"Fn::ImportValue":"PrimaryNetworkStack:ExportsOutputRefEcommerceVPCPrivateSubnet3SubnetAF1A59B02C71B9C9"}],"securityGroupIds":[{"Fn::GetAtt":["CreateOrderFunctionSecurityGroup9DF09A30","GroupId"]}]}}}},"LogGroup":{"id":"LogGroup","path":"PrimaryApiStack/CreateOrderFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"PrimaryApiStack/CreateOrderFunction/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"CreateOrderFunction7F1C188E"}]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"GetOrderFunction":{"id":"GetOrderFunction","path":"PrimaryApiStack/GetOrderFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[{"environment":"*","memorySize":"*","role":"*","timeout":"*","vpc":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]}]},"children":{"Code":{"id":"Code","path":"PrimaryApiStack/GetOrderFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"PrimaryApiStack/GetOrderFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"PrimaryApiStack/GetOrderFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"PrimaryApiStack/GetOrderFunction/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.201.0","metadata":[{"vpc":"*","description":"*","allowAllOutbound":"*","allowAllIpv6Outbound":"*"}]},"children":{"Resource":{"id":"Resource","path":"PrimaryApiStack/GetOrderFunction/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function PrimaryApiStackGetOrderFunction18A426A8","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Fn::ImportValue":"PrimaryNetworkStack:ExportsOutputRefEcommerceVPC0C8C3771FD31C558"}}}}}},"Resource":{"id":"Resource","path":"PrimaryApiStack/GetOrderFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-820242933814-ap-southeast-2","s3Key":"7d3a9560c0d69aa78ee7b84b188e3d0bf90f113ee06b25db94f983fe005371cc.zip"},"environment":{"variables":{"ORDERS_TABLE":{"Fn::ImportValue":"PrimaryCoreStack:ExportsOutputRefOrdersTable315BB997F7C1D27E"}}},"handler":"get_order.handler","memorySize":256,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"python3.9","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Fn::ImportValue":"PrimaryNetworkStack:ExportsOutputRefEcommerceVPCPrivateSubnet1SubnetB008B1231ADABD21"},{"Fn::ImportValue":"PrimaryNetworkStack:ExportsOutputRefEcommerceVPCPrivateSubnet2Subnet9415FEB9B07FD07F"},{"Fn::ImportValue":"PrimaryNetworkStack:ExportsOutputRefEcommerceVPCPrivateSubnet3SubnetAF1A59B02C71B9C9"}],"securityGroupIds":[{"Fn::GetAtt":["GetOrderFunctionSecurityGroup10CC53AA","GroupId"]}]}}}},"LogGroup":{"id":"LogGroup","path":"PrimaryApiStack/GetOrderFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"PrimaryApiStack/GetOrderFunction/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"GetOrderFunctionFD335049"}]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"EcommerceApi":{"id":"EcommerceApi","path":"PrimaryApiStack/EcommerceApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.201.0","metadata":[{"deployOptions":{"loggingLevel":"INFO","metricsEnabled":true,"throttlingBurstLimit":"*","throttlingRateLimit":"*","stageName":"*","tracingEnabled":true},"description":"*","restApiName":"*"}]},"children":{"Resource":{"id":"Resource","path":"PrimaryApiStack/EcommerceApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"API for e-commerce order processing","name":"Ecommerce Service","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}},"Deployment":{"id":"Deployment","path":"PrimaryApiStack/EcommerceApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.201.0","metadata":[{"description":"*","api":"*","retainDeployments":"*"},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]}]},"children":{"Resource":{"id":"Resource","path":"PrimaryApiStack/EcommerceApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"API for e-commerce order processing","restApiId":{"Ref":"EcommerceApi0765794B"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"PrimaryApiStack/EcommerceApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.201.0","metadata":[{"deployment":"*","loggingLevel":"INFO","metricsEnabled":true,"throttlingBurstLimit":"*","throttlingRateLimit":"*","stageName":"*","tracingEnabled":true}]},"children":{"Resource":{"id":"Resource","path":"PrimaryApiStack/EcommerceApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"EcommerceApiDeployment86790CE54c8dd174a11393a5d7192cc30ef31636"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":false,"loggingLevel":"INFO","metricsEnabled":true,"throttlingBurstLimit":2000,"throttlingRateLimit":1000}],"restApiId":{"Ref":"EcommerceApi0765794B"},"stageName":"prod","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"tracingEnabled":true}}}}},"Endpoint":{"id":"Endpoint","path":"PrimaryApiStack/EcommerceApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"Default":{"id":"Default","path":"PrimaryApiStack/EcommerceApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.201.0","metadata":["*"]},"children":{"orders":{"id":"orders","path":"PrimaryApiStack/EcommerceApi/Default/orders","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.201.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"PrimaryApiStack/EcommerceApi/Default/orders/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["EcommerceApi0765794B","RootResourceId"]},"pathPart":"orders","restApiId":{"Ref":"EcommerceApi0765794B"}}}},"POST":{"id":"POST","path":"PrimaryApiStack/EcommerceApi/Default/orders/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"ApiPermission.PrimaryApiStackEcommerceApi2BBB4AFA.POST..orders":{"id":"ApiPermission.PrimaryApiStackEcommerceApi2BBB4AFA.POST..orders","path":"PrimaryApiStack/EcommerceApi/Default/orders/POST/ApiPermission.PrimaryApiStackEcommerceApi2BBB4AFA.POST..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreateOrderFunction7F1C188E","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:820242933814:",{"Ref":"EcommerceApi0765794B"},"/",{"Ref":"EcommerceApiDeploymentStageprod2E10F6B0"},"/POST/orders"]]}}}},"ApiPermission.Test.PrimaryApiStackEcommerceApi2BBB4AFA.POST..orders":{"id":"ApiPermission.Test.PrimaryApiStackEcommerceApi2BBB4AFA.POST..orders","path":"PrimaryApiStack/EcommerceApi/Default/orders/POST/ApiPermission.Test.PrimaryApiStackEcommerceApi2BBB4AFA.POST..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreateOrderFunction7F1C188E","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:820242933814:",{"Ref":"EcommerceApi0765794B"},"/test-invoke-stage/POST/orders"]]}}}},"Resource":{"id":"Resource","path":"PrimaryApiStack/EcommerceApi/Default/orders/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-southeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["CreateOrderFunction7F1C188E","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":"'*'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":true}}],"resourceId":{"Ref":"EcommerceApiordersFFB4318C"},"restApiId":{"Ref":"EcommerceApi0765794B"}}}}}},"{orderId}":{"id":"{orderId}","path":"PrimaryApiStack/EcommerceApi/Default/orders/{orderId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.201.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"PrimaryApiStack/EcommerceApi/Default/orders/{orderId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"EcommerceApiordersFFB4318C"},"pathPart":"{orderId}","restApiId":{"Ref":"EcommerceApi0765794B"}}}},"GET":{"id":"GET","path":"PrimaryApiStack/EcommerceApi/Default/orders/{orderId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"ApiPermission.PrimaryApiStackEcommerceApi2BBB4AFA.GET..orders.{orderId}":{"id":"ApiPermission.PrimaryApiStackEcommerceApi2BBB4AFA.GET..orders.{orderId}","path":"PrimaryApiStack/EcommerceApi/Default/orders/{orderId}/GET/ApiPermission.PrimaryApiStackEcommerceApi2BBB4AFA.GET..orders.{orderId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetOrderFunctionFD335049","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:820242933814:",{"Ref":"EcommerceApi0765794B"},"/",{"Ref":"EcommerceApiDeploymentStageprod2E10F6B0"},"/GET/orders/*"]]}}}},"ApiPermission.Test.PrimaryApiStackEcommerceApi2BBB4AFA.GET..orders.{orderId}":{"id":"ApiPermission.Test.PrimaryApiStackEcommerceApi2BBB4AFA.GET..orders.{orderId}","path":"PrimaryApiStack/EcommerceApi/Default/orders/{orderId}/GET/ApiPermission.Test.PrimaryApiStackEcommerceApi2BBB4AFA.GET..orders.{orderId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetOrderFunctionFD335049","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:ap-southeast-2:820242933814:",{"Ref":"EcommerceApi0765794B"},"/test-invoke-stage/GET/orders/*"]]}}}},"Resource":{"id":"Resource","path":"PrimaryApiStack/EcommerceApi/Default/orders/{orderId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:ap-southeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GetOrderFunctionFD335049","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":"'*'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":true}}],"resourceId":{"Ref":"EcommerceApiordersorderIdCC563BA9"},"restApiId":{"Ref":"EcommerceApi0765794B"}}}}}}}},"OPTIONS":{"id":"OPTIONS","path":"PrimaryApiStack/EcommerceApi/Default/orders/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"PrimaryApiStack/EcommerceApi/Default/orders/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"EcommerceApiordersFFB4318C"},"restApiId":{"Ref":"EcommerceApi0765794B"}}}}}}}}}}}},"ApiEndpoint":{"id":"ApiEndpoint","path":"PrimaryApiStack/ApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"PrimaryApiStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"PrimaryApiStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"PrimaryApiStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.201.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"PrimaryApiStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.201.0"}}}},"SecondaryNetworkStack":{"id":"SecondaryNetworkStack","path":"SecondaryNetworkStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.201.0"},"children":{"EcommerceVPC":{"id":"EcommerceVPC","path":"SecondaryNetworkStack/EcommerceVPC","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.201.0","metadata":[{"maxAzs":"*","natGateways":"*","subnetConfiguration":[{"name":"*","subnetType":"Public","cidrMask":"*"},{"name":"*","subnetType":"Private","cidrMask":"*"},{"name":"*","subnetType":"Isolated","cidrMask":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"SecondaryNetworkStack/EcommerceVPC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC"},{"key":"Project","value":"Ecommerce"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet1"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet1"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCPublicSubnet1RouteTable8357AAEA"},"subnetId":{"Ref":"EcommerceVPCPublicSubnet1Subnet0AFBA6BF"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"EcommerceVPCIGW14978A73"},"routeTableId":{"Ref":"EcommerceVPCPublicSubnet1RouteTable8357AAEA"}}}},"EIP":{"id":"EIP","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet1"},{"key":"Project","value":"Ecommerce"}]}}},"NATGateway":{"id":"NATGateway","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["EcommerceVPCPublicSubnet1EIP216F43BF","AllocationId"]},"subnetId":{"Ref":"EcommerceVPCPublicSubnet1Subnet0AFBA6BF"},"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet1"},{"key":"Project","value":"Ecommerce"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2b","cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet2"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet2"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCPublicSubnet2RouteTable3C1443CB"},"subnetId":{"Ref":"EcommerceVPCPublicSubnet2Subnet648A4090"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"EcommerceVPCIGW14978A73"},"routeTableId":{"Ref":"EcommerceVPCPublicSubnet2RouteTable3C1443CB"}}}},"EIP":{"id":"EIP","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet2/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet2"},{"key":"Project","value":"Ecommerce"}]}}},"NATGateway":{"id":"NATGateway","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet2/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["EcommerceVPCPublicSubnet2EIP1BAA72AD","AllocationId"]},"subnetId":{"Ref":"EcommerceVPCPublicSubnet2Subnet648A4090"},"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet2"},{"key":"Project","value":"Ecommerce"}]}}}}},"PublicSubnet3":{"id":"PublicSubnet3","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet3","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet3/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2c","cidrBlock":"10.0.2.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet3"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet3/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet3/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet3"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet3/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCPublicSubnet3RouteTableBE9B587C"},"subnetId":{"Ref":"EcommerceVPCPublicSubnet3Subnet6083921E"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"SecondaryNetworkStack/EcommerceVPC/PublicSubnet3/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"EcommerceVPCIGW14978A73"},"routeTableId":{"Ref":"EcommerceVPCPublicSubnet3RouteTableBE9B587C"}}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.0.3.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet1"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet1"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCPrivateSubnet1RouteTableE54EE6BB"},"subnetId":{"Ref":"EcommerceVPCPrivateSubnet1SubnetB008B123"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"EcommerceVPCPublicSubnet1NATGateway56B50EFC"},"routeTableId":{"Ref":"EcommerceVPCPrivateSubnet1RouteTableE54EE6BB"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2b","cidrBlock":"10.0.4.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet2"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet2"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCPrivateSubnet2RouteTableEB68C2EE"},"subnetId":{"Ref":"EcommerceVPCPrivateSubnet2Subnet9415FEB9"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"EcommerceVPCPublicSubnet2NATGateway5AB42647"},"routeTableId":{"Ref":"EcommerceVPCPrivateSubnet2RouteTableEB68C2EE"}}}}}},"PrivateSubnet3":{"id":"PrivateSubnet3","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet3","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet3/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2c","cidrBlock":"10.0.5.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet3"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet3/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet3/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet3"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet3/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCPrivateSubnet3RouteTable18773908"},"subnetId":{"Ref":"EcommerceVPCPrivateSubnet3SubnetAF1A59B0"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"SecondaryNetworkStack/EcommerceVPC/PrivateSubnet3/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"EcommerceVPCPublicSubnet1NATGateway56B50EFC"},"routeTableId":{"Ref":"EcommerceVPCPrivateSubnet3RouteTable18773908"}}}}}},"IsolatedSubnet1":{"id":"IsolatedSubnet1","path":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"}]},"children":{"Subnet":{"id":"Subnet","path":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.0.6.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet1"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet1"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCIsolatedSubnet1RouteTableD791B9FF"},"subnetId":{"Ref":"EcommerceVPCIsolatedSubnet1Subnet14C095AA"}}}}}},"IsolatedSubnet2":{"id":"IsolatedSubnet2","path":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"}]},"children":{"Subnet":{"id":"Subnet","path":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2b","cidrBlock":"10.0.7.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet2"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet2"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCIsolatedSubnet2RouteTable8AB6F496"},"subnetId":{"Ref":"EcommerceVPCIsolatedSubnet2Subnet90D5F6B8"}}}}}},"IsolatedSubnet3":{"id":"IsolatedSubnet3","path":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet3","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"}]},"children":{"Subnet":{"id":"Subnet","path":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet3/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2c","cidrBlock":"10.0.8.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet3"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"Acl":{"id":"Acl","path":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet3/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet3/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet3"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"SecondaryNetworkStack/EcommerceVPC/IsolatedSubnet3/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"EcommerceVPCIsolatedSubnet3RouteTableEC8B1E2B"},"subnetId":{"Ref":"EcommerceVPCIsolatedSubnet3SubnetE746962B"}}}}}},"IGW":{"id":"IGW","path":"SecondaryNetworkStack/EcommerceVPC/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC"},{"key":"Project","value":"Ecommerce"}]}}},"VPCGW":{"id":"VPCGW","path":"SecondaryNetworkStack/EcommerceVPC/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"EcommerceVPCIGW14978A73"},"vpcId":{"Ref":"EcommerceVPC0C8C3771"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"SecondaryNetworkStack/EcommerceVPC/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.201.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"SecondaryNetworkStack/EcommerceVPC/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}},"FlowLogs":{"id":"FlowLogs","path":"SecondaryNetworkStack/EcommerceVPC/FlowLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.FlowLog","version":"2.201.0","metadata":[{"resourceType":"*","destination":"*","trafficType":"ALL"}]},"children":{"IAMRole":{"id":"IAMRole","path":"SecondaryNetworkStack/EcommerceVPC/FlowLogs/IAMRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"roleName":"*","assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportIAMRole":{"id":"ImportIAMRole","path":"SecondaryNetworkStack/EcommerceVPC/FlowLogs/IAMRole/ImportIAMRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"SecondaryNetworkStack/EcommerceVPC/FlowLogs/IAMRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"vpc-flow-logs.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/FlowLogs"},{"key":"Project","value":"Ecommerce"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SecondaryNetworkStack/EcommerceVPC/FlowLogs/IAMRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"SecondaryNetworkStack/EcommerceVPC/FlowLogs/IAMRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:CreateLogStream","logs:DescribeLogStreams","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["EcommerceVPCFlowLogsLogGroup0B1D4A40","Arn"]}},{"Action":"iam:PassRole","Effect":"Allow","Resource":{"Fn::GetAtt":["EcommerceVPCFlowLogsIAMRole90AA8289","Arn"]}}],"Version":"2012-10-17"},"policyName":"EcommerceVPCFlowLogsIAMRoleDefaultPolicyBB49023E","roles":[{"Ref":"EcommerceVPCFlowLogsIAMRole90AA8289"}]}}}}}}},"LogGroup":{"id":"LogGroup","path":"SecondaryNetworkStack/EcommerceVPC/FlowLogs/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"SecondaryNetworkStack/EcommerceVPC/FlowLogs/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/FlowLogs"},{"key":"Project","value":"Ecommerce"}]}}}}},"FlowLog":{"id":"FlowLog","path":"SecondaryNetworkStack/EcommerceVPC/FlowLogs/FlowLog","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnFlowLog","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::FlowLog","aws:cdk:cloudformation:props":{"deliverLogsPermissionArn":{"Fn::GetAtt":["EcommerceVPCFlowLogsIAMRole90AA8289","Arn"]},"logDestinationType":"cloud-watch-logs","logGroupName":{"Ref":"EcommerceVPCFlowLogsLogGroup0B1D4A40"},"resourceId":{"Ref":"EcommerceVPC0C8C3771"},"resourceType":"VPC","tags":[{"key":"Environment","value":"Production"},{"key":"Name","value":"SecondaryNetworkStack/EcommerceVPC/FlowLogs"},{"key":"Project","value":"Ecommerce"}],"trafficType":"ALL"}}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"SecondaryNetworkStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.201.0"},"children":{"Staging":{"id":"Staging","path":"SecondaryNetworkStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"Role":{"id":"Role","path":"SecondaryNetworkStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}},"Handler":{"id":"Handler","path":"SecondaryNetworkStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}},"PrivateZone":{"id":"PrivateZone","path":"SecondaryNetworkStack/PrivateZone","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.PrivateHostedZone","version":"2.201.0","metadata":[{"zoneName":"*","vpc":"*"},{"zoneName":"*","vpc":"*"},{}]},"children":{"Resource":{"id":"Resource","path":"SecondaryNetworkStack/PrivateZone/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnHostedZone","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::HostedZone","aws:cdk:cloudformation:props":{"name":"ecommerce.internal.","hostedZoneTags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"vpcs":[{"vpcId":{"Ref":"EcommerceVPC0C8C3771"},"vpcRegion":"us-west-2"}]}}}}},"VPCId":{"id":"VPCId","path":"SecondaryNetworkStack/VPCId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"PrivateHostedZoneId":{"id":"PrivateHostedZoneId","path":"SecondaryNetworkStack/PrivateHostedZoneId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"SecondaryNetworkStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"SecondaryNetworkStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}},"Exports":{"id":"Exports","path":"SecondaryNetworkStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"EcommerceVPC0C8C3771\"}":{"id":"Output{\"Ref\":\"EcommerceVPC0C8C3771\"}","path":"SecondaryNetworkStack/Exports/Output{\"Ref\":\"EcommerceVPC0C8C3771\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"Output{\"Ref\":\"EcommerceVPCPrivateSubnet1SubnetB008B123\"}":{"id":"Output{\"Ref\":\"EcommerceVPCPrivateSubnet1SubnetB008B123\"}","path":"SecondaryNetworkStack/Exports/Output{\"Ref\":\"EcommerceVPCPrivateSubnet1SubnetB008B123\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"Output{\"Ref\":\"EcommerceVPCPrivateSubnet2Subnet9415FEB9\"}":{"id":"Output{\"Ref\":\"EcommerceVPCPrivateSubnet2Subnet9415FEB9\"}","path":"SecondaryNetworkStack/Exports/Output{\"Ref\":\"EcommerceVPCPrivateSubnet2Subnet9415FEB9\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"Output{\"Ref\":\"EcommerceVPCPrivateSubnet3SubnetAF1A59B0\"}":{"id":"Output{\"Ref\":\"EcommerceVPCPrivateSubnet3SubnetAF1A59B0\"}","path":"SecondaryNetworkStack/Exports/Output{\"Ref\":\"EcommerceVPCPrivateSubnet3SubnetAF1A59B0\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"SecondaryNetworkStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.201.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"SecondaryNetworkStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.201.0"}}}},"SecondaryCoreStack":{"id":"SecondaryCoreStack","path":"SecondaryCoreStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.201.0"},"children":{"OrdersTable":{"id":"OrdersTable","path":"SecondaryCoreStack/OrdersTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.201.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"billingMode":"PAY_PER_REQUEST","removalPolicy":"retain","replicationRegions":"*","stream":"NEW_AND_OLD_IMAGES","timeToLiveAttribute":"*"},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"S"}}]},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"S"}}]}]},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/OrdersTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"orderId","attributeType":"S"},{"attributeName":"timestamp","attributeType":"S"},{"attributeName":"customerId","attributeType":"S"},{"attributeName":"status","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"CustomerOrders","keySchema":[{"attributeName":"customerId","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"OrderStatus","keySchema":[{"attributeName":"status","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"orderId","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"streamSpecification":{"streamViewType":"NEW_AND_OLD_IMAGES"},"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeToLiveSpecification":{"attributeName":"ttl","enabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"SecondaryCoreStack/OrdersTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"SourceTableAttachedManagedPolicy-SecondaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRoleC03E0449":{"id":"SourceTableAttachedManagedPolicy-SecondaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRoleC03E0449","path":"SecondaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-SecondaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRoleC03E0449","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-SecondaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRoleC03E0449/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.ManagedPolicy","version":"2.201.0","metadata":[{"description":"*","roles":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"ImportedResource":{"id":"ImportedResource","path":"SecondaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-SecondaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRoleC03E0449/Resource/ImportedResource","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"Resource":{"id":"Resource","path":"SecondaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-SecondaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRoleC03E0449/Resource/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnManagedPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::ManagedPolicy","aws:cdk:cloudformation:props":{"description":{"Fn::Join":["",["DynamoDB replication managed policy for table ",{"Ref":"OrdersTable315BB997"}]]},"path":"/","policyDocument":{"Statement":[{"Action":"dynamodb:*","Effect":"Allow","Resource":[{"Fn::GetAtt":["OrdersTable315BB997","Arn"]},{"Fn::Join":["",["arn:aws:dynamodb:ap-southeast-2:820242933814:table/",{"Ref":"OrdersTable315BB997"}]]},{"Fn::Join":["",[{"Fn::GetAtt":["OrdersTable315BB997","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"roles":[{"Fn::GetAtt":["awscdkawsdynamodbReplicaProviderNestedStackawscdkawsdynamodbReplicaProviderNestedStackResource18E3F12D","Outputs.SecondaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRoleF932636ARef"]}]}}}}}}},"SourceTableAttachedManagedPolicy-SecondaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRoleAA0E8437":{"id":"SourceTableAttachedManagedPolicy-SecondaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRoleAA0E8437","path":"SecondaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-SecondaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRoleAA0E8437","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-SecondaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRoleAA0E8437/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.ManagedPolicy","version":"2.201.0","metadata":[{"description":"*","roles":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"ImportedResource":{"id":"ImportedResource","path":"SecondaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-SecondaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRoleAA0E8437/Resource/ImportedResource","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"Resource":{"id":"Resource","path":"SecondaryCoreStack/OrdersTable/SourceTableAttachedManagedPolicy-SecondaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRoleAA0E8437/Resource/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnManagedPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::ManagedPolicy","aws:cdk:cloudformation:props":{"description":{"Fn::Join":["",["DynamoDB replication managed policy for table ",{"Ref":"OrdersTable315BB997"}]]},"path":"/","policyDocument":{"Statement":[{"Action":"dynamodb:DescribeTable","Effect":"Allow","Resource":[{"Fn::GetAtt":["OrdersTable315BB997","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["OrdersTable315BB997","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"roles":[{"Fn::GetAtt":["awscdkawsdynamodbReplicaProviderNestedStackawscdkawsdynamodbReplicaProviderNestedStackResource18E3F12D","Outputs.SecondaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRole8F02CC09Ref"]}]}}}}}}},"Replicaap-southeast-2":{"id":"Replicaap-southeast-2","path":"SecondaryCoreStack/OrdersTable/Replicaap-southeast-2","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.201.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"SecondaryCoreStack/OrdersTable/Replicaap-southeast-2/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}}}},"@aws-cdk--aws-dynamodb.ReplicaProvider":{"id":"@aws-cdk--aws-dynamodb.ReplicaProvider","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider","constructInfo":{"fqn":"aws-cdk-lib.NestedStack","version":"2.201.0"},"children":{"OnEventHandler":{"id":"OnEventHandler","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[{"timeout":"*","code":"*","handler":"*","runtime":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"iam:CreateServiceLinkedRole","Effect":"Allow","Resource":"arn:aws:iam::820242933814:role/aws-service-role/replication.dynamodb.amazonaws.com/AWSServiceRoleForDynamoDBReplication"},{"Action":"dynamodb:DescribeLimits","Effect":"Allow","Resource":"*"},{"Action":["dynamodb:DeleteTable","dynamodb:DeleteTableReplica"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":dynamodb:ap-southeast-2:820242933814:table/",{"Ref":"referencetoSecondaryCoreStackOrdersTableCA11431ARef"}]]}}],"Version":"2012-10-17"},"policyName":"OnEventHandlerServiceRoleDefaultPolicyC57085D4","roles":[{"Ref":"OnEventHandlerServiceRole15A26729"}]}}}}}}},"Code":{"id":"Code","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-820242933814-us-west-2","s3Key":"0e35b84bae734fb452354f201465f113077658a81501aabe2ec7bb134ab594f4.zip"},"handler":"index.onEventHandler","role":{"Fn::GetAtt":["OnEventHandlerServiceRole15A26729","Arn"]},"runtime":"nodejs22.x","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeout":300}}},"LogGroup":{"id":"LogGroup","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/OnEventHandler/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"OnEventHandler42BEBAE0"}]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"IsCompleteHandler":{"id":"IsCompleteHandler","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[{"timeout":"*","code":"*","handler":"*","runtime":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}},"Code":{"id":"Code","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-820242933814-us-west-2","s3Key":"0e35b84bae734fb452354f201465f113077658a81501aabe2ec7bb134ab594f4.zip"},"handler":"index.isCompleteHandler","role":{"Fn::GetAtt":["IsCompleteHandlerServiceRole5810CC58","Arn"]},"runtime":"nodejs22.x","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeout":30}}},"LogGroup":{"id":"LogGroup","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/IsCompleteHandler/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"IsCompleteHandler7073F4DA"}]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"Provider":{"id":"Provider","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.Provider","version":"2.201.0"},"children":{"framework-onEvent":{"id":"framework-onEvent","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[{"code":"*","description":"*","runtime":"*","handler":"*","timeout":"*","logGroup":"*","vpc":"*","vpcSubnets":"*","securityGroups":"*","role":"*","functionName":"*","environmentEncryption":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]}]},{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Ref":"Providerwaiterstatemachine5D4A9DF0"}}],"Version":"2012-10-17"},"policyName":"ProviderframeworkonEventServiceRoleDefaultPolicy48CD2133","roles":[{"Ref":"ProviderframeworkonEventServiceRole9FF04296"}]}}}}}}},"Code":{"id":"Code","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-820242933814-us-west-2","s3Key":"bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca.zip"},"description":"AWS CDK resource provider framework - onEvent (SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},"USER_IS_COMPLETE_FUNCTION_ARN":{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},"WAITER_STATE_MACHINE_ARN":{"Ref":"Providerwaiterstatemachine5D4A9DF0"}}},"handler":"framework.onEvent","role":{"Fn::GetAtt":["ProviderframeworkonEventServiceRole9FF04296","Arn"]},"runtime":"nodejs22.x","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeout":900}}},"LogGroup":{"id":"LogGroup","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onEvent/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ProviderframeworkonEvent83C1D0A7"}]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"framework-isComplete":{"id":"framework-isComplete","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[{"code":"*","description":"*","runtime":"*","handler":"*","timeout":"*","logGroup":"*","vpc":"*","vpcSubnets":"*","securityGroups":"*","role":"*","functionName":"*","environmentEncryption":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]}]}],"Version":"2012-10-17"},"policyName":"ProviderframeworkisCompleteServiceRoleDefaultPolicy2E7140AC","roles":[{"Ref":"ProviderframeworkisCompleteServiceRoleB1087139"}]}}}}}}},"Code":{"id":"Code","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-820242933814-us-west-2","s3Key":"bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca.zip"},"description":"AWS CDK resource provider framework - isComplete (SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},"USER_IS_COMPLETE_FUNCTION_ARN":{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]}}},"handler":"framework.isComplete","role":{"Fn::GetAtt":["ProviderframeworkisCompleteServiceRoleB1087139","Arn"]},"runtime":"nodejs22.x","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeout":900}}},"LogGroup":{"id":"LogGroup","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-isComplete/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ProviderframeworkisComplete26D7B0CB"}]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"framework-onTimeout":{"id":"framework-onTimeout","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[{"code":"*","description":"*","runtime":"*","handler":"*","timeout":"*","logGroup":"*","vpc":"*","vpcSubnets":"*","securityGroups":"*","role":"*","functionName":"*","environmentEncryption":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},":*"]]}]},{"Action":"lambda:GetFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]},{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]}]}],"Version":"2012-10-17"},"policyName":"ProviderframeworkonTimeoutServiceRoleDefaultPolicy2688969F","roles":[{"Ref":"ProviderframeworkonTimeoutServiceRole28643D26"}]}}}}}}},"Code":{"id":"Code","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-820242933814-us-west-2","s3Key":"bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca.zip"},"description":"AWS CDK resource provider framework - onTimeout (SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider)","environment":{"variables":{"USER_ON_EVENT_FUNCTION_ARN":{"Fn::GetAtt":["OnEventHandler42BEBAE0","Arn"]},"USER_IS_COMPLETE_FUNCTION_ARN":{"Fn::GetAtt":["IsCompleteHandler7073F4DA","Arn"]}}},"handler":"framework.onTimeout","role":{"Fn::GetAtt":["ProviderframeworkonTimeoutServiceRole28643D26","Arn"]},"runtime":"nodejs22.x","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeout":900}}},"LogGroup":{"id":"LogGroup","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/framework-onTimeout/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ProviderframeworkonTimeout0B47CA38"}]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"waiter-state-machine":{"id":"waiter-state-machine","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine","constructInfo":{"fqn":"aws-cdk-lib.custom_resources.WaiterStateMachine","version":"2.201.0"},"children":{"Role":{"id":"Role","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportRole":{"id":"ImportRole","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["ProviderframeworkisComplete26D7B0CB","Arn"]},{"Fn::GetAtt":["ProviderframeworkonTimeout0B47CA38","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ProviderframeworkisComplete26D7B0CB","Arn"]},":*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["ProviderframeworkonTimeout0B47CA38","Arn"]},":*"]]}]},{"Action":["logs:CreateLogDelivery","logs:CreateLogStream","logs:DeleteLogDelivery","logs:DescribeLogGroups","logs:DescribeResourcePolicies","logs:GetLogDelivery","logs:ListLogDeliveries","logs:PutLogEvents","logs:PutResourcePolicy","logs:UpdateLogDelivery"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"ProviderwaiterstatemachineRoleDefaultPolicyD3C3DA1A","roles":[{"Ref":"ProviderwaiterstatemachineRole0C7159F9"}]}}}}}}},"LogGroup":{"id":"LogGroup","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/vendedlogs/states/waiter-state-machine-",{"Ref":"ProviderframeworkisComplete26D7B0CB"},"-c86a32a7b8c393a81b03a76e1620bffba6ce4d1603"]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}},"Resource":{"id":"Resource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/Provider/waiter-state-machine/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":{"Fn::Join":["",["{\"StartAt\":\"framework-isComplete-task\",\"States\":{\"framework-isComplete-task\":{\"End\":true,\"Retry\":[{\"ErrorEquals\":[\"States.ALL\"],\"IntervalSeconds\":10,\"MaxAttempts\":180,\"BackoffRate\":1}],\"Catch\":[{\"ErrorEquals\":[\"States.ALL\"],\"Next\":\"framework-onTimeout-task\"}],\"Type\":\"Task\",\"Resource\":\"",{"Fn::GetAtt":["ProviderframeworkisComplete26D7B0CB","Arn"]},"\"},\"framework-onTimeout-task\":{\"End\":true,\"Type\":\"Task\",\"Resource\":\"",{"Fn::GetAtt":["ProviderframeworkonTimeout0B47CA38","Arn"]},"\"}}}"]]},"loggingConfiguration":{"destinations":[{"cloudWatchLogsLogGroup":{"logGroupArn":{"Fn::GetAtt":["ProviderwaiterstatemachineLogGroupDD693A98","Arn"]}}}],"includeExecutionData":false,"level":"ERROR"},"roleArn":{"Fn::GetAtt":["ProviderwaiterstatemachineRole0C7159F9","Arn"]},"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}},"SecondaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRoleF932636ARef":{"id":"SecondaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRoleF932636ARef","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/SecondaryCoreStackawscdkawsdynamodbReplicaProviderOnEventHandlerServiceRoleF932636ARef","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"SecondaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRole8F02CC09Ref":{"id":"SecondaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRole8F02CC09Ref","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/SecondaryCoreStackawscdkawsdynamodbReplicaProviderIsCompleteHandlerServiceRole8F02CC09Ref","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"SecondaryCoreStackawscdkawsdynamodbReplicaProviderframeworkonEvent314870CFArn":{"id":"SecondaryCoreStackawscdkawsdynamodbReplicaProviderframeworkonEvent314870CFArn","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/SecondaryCoreStackawscdkawsdynamodbReplicaProviderframeworkonEvent314870CFArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"reference-to-SecondaryCoreStackOrdersTableCA11431ARef":{"id":"reference-to-SecondaryCoreStackOrdersTableCA11431ARef","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider/reference-to-SecondaryCoreStackOrdersTableCA11431ARef","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.201.0"}}}},"@aws-cdk--aws-dynamodb.ReplicaProvider.NestedStack":{"id":"@aws-cdk--aws-dynamodb.ReplicaProvider.NestedStack","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider.NestedStack","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"@aws-cdk--aws-dynamodb.ReplicaProvider.NestedStackResource":{"id":"@aws-cdk--aws-dynamodb.ReplicaProvider.NestedStackResource","path":"SecondaryCoreStack/@aws-cdk--aws-dynamodb.ReplicaProvider.NestedStack/@aws-cdk--aws-dynamodb.ReplicaProvider.NestedStackResource","constructInfo":{"fqn":"aws-cdk-lib.CfnStack","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFormation::Stack","aws:cdk:cloudformation:props":{"parameters":{"referencetoSecondaryCoreStackOrdersTableCA11431ARef":{"Ref":"OrdersTable315BB997"}},"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"templateUrl":{"Fn::Join":["",["https://s3.us-west-2.",{"Ref":"AWS::URLSuffix"},"/cdk-hnb659fds-assets-820242933814-us-west-2/48aff62e4e4664b8d6f797aefc2f0a89f7820deb957c0ca9ff40cfd50ac36340.json"]]}}}}}},"EcommerceEventBus":{"id":"EcommerceEventBus","path":"SecondaryCoreStack/EcommerceEventBus","constructInfo":{"fqn":"aws-cdk-lib.aws_events.EventBus","version":"2.201.0","metadata":[{}]},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/EcommerceEventBus/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnEventBus","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::EventBus","aws:cdk:cloudformation:props":{"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"name":"ecommerce-events"}}},"EventArchive":{"id":"EventArchive","path":"SecondaryCoreStack/EcommerceEventBus/EventArchive","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Archive","version":"2.201.0","metadata":[{"sourceEventBus":"*","description":"*","eventPattern":{"source":"*"},"retention":"*","archiveName":"*"}]},"children":{"Archive":{"id":"Archive","path":"SecondaryCoreStack/EcommerceEventBus/EventArchive/Archive","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnArchive","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Archive","aws:cdk:cloudformation:props":{"archiveName":"ecommerce-events-archive","description":"Archive of all ecommerce events","eventPattern":{"source":["ecommerce.orders"]},"retentionDays":365,"sourceArn":{"Fn::GetAtt":["EcommerceEventBus1997A5D8","Arn"]}}}}}}}},"OrderEventsRule":{"id":"OrderEventsRule","path":"SecondaryCoreStack/OrderEventsRule","constructInfo":{"fqn":"aws-cdk-lib.aws_events.Rule","version":"2.201.0","metadata":[{"description":"*","eventPattern":{"source":"*"},"eventBus":"*"},{"addEventPattern":[{"source":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"SecondaryCoreStack/OrderEventsRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_events.CfnRule","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Events::Rule","aws:cdk:cloudformation:props":{"description":"Handle order processing events","eventBusName":{"Ref":"EcommerceEventBus1997A5D8"},"eventPattern":{"source":["ecommerce.orders"]},"state":"ENABLED"}}}}},"OrdersTableName":{"id":"OrdersTableName","path":"SecondaryCoreStack/OrdersTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"EventBusArn":{"id":"EventBusArn","path":"SecondaryCoreStack/EventBusArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"SecondaryCoreStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"SecondaryCoreStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}},"Exports":{"id":"Exports","path":"SecondaryCoreStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Output{\"Ref\":\"OrdersTable315BB997\"}":{"id":"Output{\"Ref\":\"OrdersTable315BB997\"}","path":"SecondaryCoreStack/Exports/Output{\"Ref\":\"OrdersTable315BB997\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"Output{\"Fn::GetAtt\":[\"EcommerceEventBus1997A5D8\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"EcommerceEventBus1997A5D8\",\"Arn\"]}","path":"SecondaryCoreStack/Exports/Output{\"Fn::GetAtt\":[\"EcommerceEventBus1997A5D8\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"SecondaryCoreStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.201.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"SecondaryCoreStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.201.0"}}}},"SecondaryApiStack":{"id":"SecondaryApiStack","path":"SecondaryApiStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.201.0"},"children":{"LambdaExecutionRole":{"id":"LambdaExecutionRole","path":"SecondaryApiStack/LambdaExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"},{"managedPolicyArn":"*"}]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportLambdaExecutionRole":{"id":"ImportLambdaExecutionRole","path":"SecondaryApiStack/LambdaExecutionRole/ImportLambdaExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"SecondaryApiStack/LambdaExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SecondaryApiStack/LambdaExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"SecondaryApiStack/LambdaExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:DeleteItem","dynamodb:GetItem","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:dynamodb:*:*:table/",{"Fn::ImportValue":"SecondaryCoreStack:ExportsOutputRefOrdersTable315BB997F7C1D27E"},"*"]]}},{"Action":"events:PutEvents","Effect":"Allow","Resource":{"Fn::ImportValue":"SecondaryCoreStack:ExportsOutputFnGetAttEcommerceEventBus1997A5D8Arn6D7B4DCB"}}],"Version":"2012-10-17"},"policyName":"LambdaExecutionRoleDefaultPolicy6D69732F","roles":[{"Ref":"LambdaExecutionRoleD5C26073"}]}}}}}}},"CreateOrderFunction":{"id":"CreateOrderFunction","path":"SecondaryApiStack/CreateOrderFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[{"environment":"*","memorySize":"*","role":"*","timeout":"*","vpc":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]}]},"children":{"Code":{"id":"Code","path":"SecondaryApiStack/CreateOrderFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"SecondaryApiStack/CreateOrderFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"SecondaryApiStack/CreateOrderFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"SecondaryApiStack/CreateOrderFunction/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.201.0","metadata":[{"vpc":"*","description":"*","allowAllOutbound":"*","allowAllIpv6Outbound":"*"}]},"children":{"Resource":{"id":"Resource","path":"SecondaryApiStack/CreateOrderFunction/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function SecondaryApiStackCreateOrderFunctionFDD9D293","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Fn::ImportValue":"SecondaryNetworkStack:ExportsOutputRefEcommerceVPC0C8C3771FD31C558"}}}}}},"Resource":{"id":"Resource","path":"SecondaryApiStack/CreateOrderFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-820242933814-us-west-2","s3Key":"7d3a9560c0d69aa78ee7b84b188e3d0bf90f113ee06b25db94f983fe005371cc.zip"},"environment":{"variables":{"ORDERS_TABLE":{"Fn::ImportValue":"SecondaryCoreStack:ExportsOutputRefOrdersTable315BB997F7C1D27E"},"EVENT_BUS_ARN":{"Fn::ImportValue":"SecondaryCoreStack:ExportsOutputFnGetAttEcommerceEventBus1997A5D8Arn6D7B4DCB"}}},"handler":"create_order.handler","memorySize":256,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"python3.9","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Fn::ImportValue":"SecondaryNetworkStack:ExportsOutputRefEcommerceVPCPrivateSubnet1SubnetB008B1231ADABD21"},{"Fn::ImportValue":"SecondaryNetworkStack:ExportsOutputRefEcommerceVPCPrivateSubnet2Subnet9415FEB9B07FD07F"},{"Fn::ImportValue":"SecondaryNetworkStack:ExportsOutputRefEcommerceVPCPrivateSubnet3SubnetAF1A59B02C71B9C9"}],"securityGroupIds":[{"Fn::GetAtt":["CreateOrderFunctionSecurityGroup9DF09A30","GroupId"]}]}}}},"LogGroup":{"id":"LogGroup","path":"SecondaryApiStack/CreateOrderFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"SecondaryApiStack/CreateOrderFunction/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"CreateOrderFunction7F1C188E"}]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"GetOrderFunction":{"id":"GetOrderFunction","path":"SecondaryApiStack/GetOrderFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[{"environment":"*","memorySize":"*","role":"*","timeout":"*","vpc":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]}]},"children":{"Code":{"id":"Code","path":"SecondaryApiStack/GetOrderFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"SecondaryApiStack/GetOrderFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"SecondaryApiStack/GetOrderFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"SecurityGroup":{"id":"SecurityGroup","path":"SecondaryApiStack/GetOrderFunction/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.201.0","metadata":[{"vpc":"*","description":"*","allowAllOutbound":"*","allowAllIpv6Outbound":"*"}]},"children":{"Resource":{"id":"Resource","path":"SecondaryApiStack/GetOrderFunction/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Automatic security group for Lambda Function SecondaryApiStackGetOrderFunction2CC0BAAB","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"vpcId":{"Fn::ImportValue":"SecondaryNetworkStack:ExportsOutputRefEcommerceVPC0C8C3771FD31C558"}}}}}},"Resource":{"id":"Resource","path":"SecondaryApiStack/GetOrderFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-820242933814-us-west-2","s3Key":"7d3a9560c0d69aa78ee7b84b188e3d0bf90f113ee06b25db94f983fe005371cc.zip"},"environment":{"variables":{"ORDERS_TABLE":{"Fn::ImportValue":"SecondaryCoreStack:ExportsOutputRefOrdersTable315BB997F7C1D27E"}}},"handler":"get_order.handler","memorySize":256,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"python3.9","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"timeout":30,"vpcConfig":{"subnetIds":[{"Fn::ImportValue":"SecondaryNetworkStack:ExportsOutputRefEcommerceVPCPrivateSubnet1SubnetB008B1231ADABD21"},{"Fn::ImportValue":"SecondaryNetworkStack:ExportsOutputRefEcommerceVPCPrivateSubnet2Subnet9415FEB9B07FD07F"},{"Fn::ImportValue":"SecondaryNetworkStack:ExportsOutputRefEcommerceVPCPrivateSubnet3SubnetAF1A59B02C71B9C9"}],"securityGroupIds":[{"Fn::GetAtt":["GetOrderFunctionSecurityGroup10CC53AA","GroupId"]}]}}}},"LogGroup":{"id":"LogGroup","path":"SecondaryApiStack/GetOrderFunction/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"SecondaryApiStack/GetOrderFunction/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"GetOrderFunctionFD335049"}]]},"retentionInDays":731,"tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}}}}}},"EcommerceApi":{"id":"EcommerceApi","path":"SecondaryApiStack/EcommerceApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.201.0","metadata":[{"deployOptions":{"loggingLevel":"INFO","metricsEnabled":true,"throttlingBurstLimit":"*","throttlingRateLimit":"*","stageName":"*","tracingEnabled":true},"description":"*","restApiName":"*"}]},"children":{"Resource":{"id":"Resource","path":"SecondaryApiStack/EcommerceApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"API for e-commerce order processing","name":"Ecommerce Service","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}]}}},"Deployment":{"id":"Deployment","path":"SecondaryApiStack/EcommerceApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.201.0","metadata":[{"description":"*","api":"*","retainDeployments":"*"},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]}]},"children":{"Resource":{"id":"Resource","path":"SecondaryApiStack/EcommerceApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"API for e-commerce order processing","restApiId":{"Ref":"EcommerceApi0765794B"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"SecondaryApiStack/EcommerceApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.201.0","metadata":[{"deployment":"*","loggingLevel":"INFO","metricsEnabled":true,"throttlingBurstLimit":"*","throttlingRateLimit":"*","stageName":"*","tracingEnabled":true}]},"children":{"Resource":{"id":"Resource","path":"SecondaryApiStack/EcommerceApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"EcommerceApiDeployment86790CE50f55994b14cd7e691b2b6c65a9ddea23"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":false,"loggingLevel":"INFO","metricsEnabled":true,"throttlingBurstLimit":2000,"throttlingRateLimit":1000}],"restApiId":{"Ref":"EcommerceApi0765794B"},"stageName":"prod","tags":[{"key":"Environment","value":"Production"},{"key":"Project","value":"Ecommerce"}],"tracingEnabled":true}}}}},"Endpoint":{"id":"Endpoint","path":"SecondaryApiStack/EcommerceApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"Default":{"id":"Default","path":"SecondaryApiStack/EcommerceApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.201.0","metadata":["*"]},"children":{"orders":{"id":"orders","path":"SecondaryApiStack/EcommerceApi/Default/orders","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.201.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"SecondaryApiStack/EcommerceApi/Default/orders/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["EcommerceApi0765794B","RootResourceId"]},"pathPart":"orders","restApiId":{"Ref":"EcommerceApi0765794B"}}}},"POST":{"id":"POST","path":"SecondaryApiStack/EcommerceApi/Default/orders/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"ApiPermission.SecondaryApiStackEcommerceApi28D0B1A2.POST..orders":{"id":"ApiPermission.SecondaryApiStackEcommerceApi28D0B1A2.POST..orders","path":"SecondaryApiStack/EcommerceApi/Default/orders/POST/ApiPermission.SecondaryApiStackEcommerceApi28D0B1A2.POST..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreateOrderFunction7F1C188E","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-west-2:820242933814:",{"Ref":"EcommerceApi0765794B"},"/",{"Ref":"EcommerceApiDeploymentStageprod2E10F6B0"},"/POST/orders"]]}}}},"ApiPermission.Test.SecondaryApiStackEcommerceApi28D0B1A2.POST..orders":{"id":"ApiPermission.Test.SecondaryApiStackEcommerceApi28D0B1A2.POST..orders","path":"SecondaryApiStack/EcommerceApi/Default/orders/POST/ApiPermission.Test.SecondaryApiStackEcommerceApi28D0B1A2.POST..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreateOrderFunction7F1C188E","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-west-2:820242933814:",{"Ref":"EcommerceApi0765794B"},"/test-invoke-stage/POST/orders"]]}}}},"Resource":{"id":"Resource","path":"SecondaryApiStack/EcommerceApi/Default/orders/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["CreateOrderFunction7F1C188E","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":"'*'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":true}}],"resourceId":{"Ref":"EcommerceApiordersFFB4318C"},"restApiId":{"Ref":"EcommerceApi0765794B"}}}}}},"{orderId}":{"id":"{orderId}","path":"SecondaryApiStack/EcommerceApi/Default/orders/{orderId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.201.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"SecondaryApiStack/EcommerceApi/Default/orders/{orderId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"EcommerceApiordersFFB4318C"},"pathPart":"{orderId}","restApiId":{"Ref":"EcommerceApi0765794B"}}}},"GET":{"id":"GET","path":"SecondaryApiStack/EcommerceApi/Default/orders/{orderId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"ApiPermission.SecondaryApiStackEcommerceApi28D0B1A2.GET..orders.{orderId}":{"id":"ApiPermission.SecondaryApiStackEcommerceApi28D0B1A2.GET..orders.{orderId}","path":"SecondaryApiStack/EcommerceApi/Default/orders/{orderId}/GET/ApiPermission.SecondaryApiStackEcommerceApi28D0B1A2.GET..orders.{orderId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetOrderFunctionFD335049","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-west-2:820242933814:",{"Ref":"EcommerceApi0765794B"},"/",{"Ref":"EcommerceApiDeploymentStageprod2E10F6B0"},"/GET/orders/*"]]}}}},"ApiPermission.Test.SecondaryApiStackEcommerceApi28D0B1A2.GET..orders.{orderId}":{"id":"ApiPermission.Test.SecondaryApiStackEcommerceApi28D0B1A2.GET..orders.{orderId}","path":"SecondaryApiStack/EcommerceApi/Default/orders/{orderId}/GET/ApiPermission.Test.SecondaryApiStackEcommerceApi28D0B1A2.GET..orders.{orderId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetOrderFunctionFD335049","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-west-2:820242933814:",{"Ref":"EcommerceApi0765794B"},"/test-invoke-stage/GET/orders/*"]]}}}},"Resource":{"id":"Resource","path":"SecondaryApiStack/EcommerceApi/Default/orders/{orderId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GetOrderFunctionFD335049","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST","integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":"'*'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Origin":true}}],"resourceId":{"Ref":"EcommerceApiordersorderIdCC563BA9"},"restApiId":{"Ref":"EcommerceApi0765794B"}}}}}}}},"OPTIONS":{"id":"OPTIONS","path":"SecondaryApiStack/EcommerceApi/Default/orders/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"SecondaryApiStack/EcommerceApi/Default/orders/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'GET,POST,OPTIONS'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"EcommerceApiordersFFB4318C"},"restApiId":{"Ref":"EcommerceApi0765794B"}}}}}}}}}}}},"ApiEndpoint":{"id":"ApiEndpoint","path":"SecondaryApiStack/ApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"SecondaryApiStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"SecondaryApiStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"SecondaryApiStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.201.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"SecondaryApiStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.201.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}